# 前端设计模式应用

## 目录

- [前端设计模式应用](#前端设计模式应用)
  - [目录](#目录)
  - [什么是设计模式](#什么是设计模式)
  - [设计模式背景](#设计模式背景)
  - [设计模式分类](#设计模式分类)
  - [浏览器中的设计模式](#浏览器中的设计模式)
    - [单例模式](#单例模式)
    - [发布订阅模式（观察者模式）](#发布订阅模式观察者模式)
  - [JavaScript 中的设计模式](#javascript-中的设计模式)
    - [原型模式](#原型模式)
    - [代理模式](#代理模式)
    - [迭代器模式](#迭代器模式)
  - [前端框架中的设计模式](#前端框架中的设计模式)
    - [前端框架对 DOM 操作的代理](#前端框架对-dom-操作的代理)
    - [组合模式](#组合模式)
  - [总结](#总结)
  - [Q&A](#qa)
    - [反模式和过度设计](#反模式和过度设计)
    - [hooks 与 composition API](#hooks-与-composition-api)
    - [ES6  class 关键字](#es6--class-关键字)
    - [MVVM 与 MVC](#mvvm-与-mvc)

## 什么是设计模式

软件设计中**常见问题**的**解决方案模型**

- 历史经验的总结
- 与特定语言无关

## 设计模式背景

1. 模式语言：城镇、建筑、建造
2. 设计模式：可复用面向对象软件的基础

## 设计模式分类

**23**种设计模式

- 创建型
  - 如何创建一个对象
- 结构型
  - 如何灵活的将对象组装成较大的结构
- 行为型
  - 负责对象间的高效通信和职责划分

## 浏览器中的设计模式

- 单例模式
- 发布订阅模式

### 单例模式

- 定义
  - 全局唯一访问对象
- 应用场景
  - 缓存，全局状态管理等

### 发布订阅模式（观察者模式）

- 定义
  - 一种订阅机制，可在被订阅对象发生变化时通知订阅者
- 应用场景
  - 从系统架构之间的解耦，到业务中一些实现模式，像邮件订阅，上线订阅等等，应用广泛

## JavaScript 中的设计模式

- 原型模式
- 代理模式
  - (JavaScript 通过提供 API 实现)
- 迭代器模式

### 原型模式

- 定义
  - 复制已有对象来创建新的对象
- 应用场景
  - JS 中对象创建的基本模式

### 代理模式

- 定义
  - 可自定义控制对原对象的访问方式，并且允许在更新后做一些额外处理
- 应用场景
  - 监控，代理工具，前端框架实现等等

### 迭代器模式

- 定义
  - 在不暴露数据类型的情况下访问集合中的数据
- 应用场景
  - 数据结构中有多种数据类型，列表，树等，提供通用操作 接口

## 前端框架中的设计模式

- 代理模式
- 组合模式

### 前端框架对 DOM 操作的代理

- 未使用前端框架时
  - 更改DOM属性 --> 视图更新
- 使用前端框架
  - 更改 DOM 属性 --> 更新虚拟 DOM  -- Diff --> 视图更新

### 组合模式

- 定义
  - 可多个对象组合使用，也可单个对象独立使用
- 应用场景
  - DOM，前端组件，文件目录

## 总结

设计模式不是银弹（完美的事情），即设计模式并不能解决所有问题。

- 总结出抽象的模式相对比较简单，但是想要将抽象的模式套用在场景中却非常困难
- 现代编程语言的多编程范式带来的更多可能性
- 通过真正优秀的开源项目学习，去学习设计模式并不断实现

## Q&A

纯函数是一种编程范式，函数可以作为一个参数传入到其他函数中

### 反模式和过度设计

- 反模式
  - 不好的设计模式
- 过度设计
  - 不同的编程范式可能适合不同的设计模式
  - 不能生搬硬套，不然很可能出现过度设计的问题

### hooks 与 composition API

是为了更好的组件间逻辑的复用

- hooks
  - 是函数式设计
- composition API
  - 响应式编程设计

### ES6  class 关键字

实际上是基于 ES5 实现对象代码的语法糖

### MVVM 与 MVC

应用中的架构设计
