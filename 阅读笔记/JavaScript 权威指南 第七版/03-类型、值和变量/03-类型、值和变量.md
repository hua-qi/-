# 类型、值和变量

编程语言最基本的特征

- 编程语言所支持的类型集
- 变量工作的方式

## 目录

- [类型、值和变量](#类型值和变量)
  - [目录](#目录)
  - [3.1 概述和定义](#31-概述和定义)
    - [垃圾回收](#垃圾回收)
    - [面向对象](#面向对象)
      - [函数和方法的区别](#函数和方法的区别)
      - [Q&A](#qa)
    - [类型的可变与不可变](#类型的可变与不可变)
    - [类型转换](#类型转换)
    - [常量、变量](#常量变量)

## 3.1 概述和定义

JavaScript 类型可以分为两类：

- 基本类型
  - number 数字
  - string 字符串
  - boolean 布尔值
    - 包含 true、false 两种值
  - null - 唯一值
  - undefined - 唯一值
  - Symbol
    - 支持在不损害向后兼容性的情况下定义语言扩展
- 对象类型
  - 任何不是数字、字符串、布尔值、Symbol、null、undefined 的 JavaScript 值都是**对象**
  - 对象（即类型对象的成员），是属性的集合，其中每个属性都有一个名称和一个值（原始值或另一个对象）
  - 普通的 JavaScript 对象是命名值的无序集合
    - An ordinary JavaScript object is an unordered collection of named values
  - **数组**
    - 特殊类型的对象
    - 表示具有编号值的有序集合
      - Array represents an ordered collection of numbered values
  - **Set**
    - 表示一组不重复的值
  - **Map**
    - 表示键值映射（记录插入顺序）
  - **RegExp**
    - 表示文本模式
    - 支持对字符串进行复杂的匹配、搜索和替换操作
  - **Date**
    - 表示日期和时间
    - 支持基本的日期计算
  - **Error** 及其子类
    - 表示在执行 JavaScript 代码时可能出现的错误
  - **函数和类**
    - JavaScript 与更静态的语言的不同之处在于，函数和类不仅仅时语言语法的一部分：它们本身时可由 JavaScript 程序操作的值

### 垃圾回收

JavaScript 解释器为内存管理执行自动垃圾收集。当一个值不再可获得时、当程序不再用方法引用它时，解释器知道它再也不能被使用，并自动回收它所占用的内存。

这意味着 JavaScript 程序员通常不需要担心对象或其他值的销毁或释放。但是有时 JavaScript 程序员需要注意确保**值**不会被意外地保持可使用（因此不可回收）。

### 面向对象

JavaScript 支持面向对象的编程风格。

这意味着不需要使用全局定义的函数来操作各种类型的值，使用**由类型本身定义处理值的方法**。

例如，如果要对数组 a 的元素进行排序，不需要将数组 a 作为参数传递给 sort() 函数，只需调用 sort() 方法即可。

#### 函数和方法的区别

方法：一般的，我们将**类**的函数称之为方法。

#### Q&A

那么你可能就要问了，我并没有在数组 a 中声明 sort() 方法呀，为什么可以直接调用 sort() 方法呢？

```javascript
// 新建一个空数组
let a = [];

// 上述代码可以认为时下述代码的语法糖
let a = new Array("");

/*
1. 在 JS 中 Array 作为内置的构造函数，本身具有一个属性 prototype 我们称之为原型（亦称之为显式原型），它是一个对象
2. 而原型 prototype 中存在一个 sort() 方法，这里插一句，这也就是为什么你在 MDN 查询数组（或是其他对象）的方法时，它们的名字一般都是 Array.prototype.(你想要找到的方法)
3. 数组 a 本质作为一个对象，含有一个属性 “__proto__”，我们称之为隐式原型
4. 然后呢，a.__proto__ === Array.prototype，注意！这里数组 a 与 构造函数 Array() 存在一个间接关系，我们称之为原型链
5. 当我们执行 a.sort()，方法时，JS 解释器会在数组 a （也是个对象）中寻找 sort() 方法，如果没有找到 sort() 方法，就会循着原型链寻找 sort() 直到找到它
*/


```

### 类型的可变与不可变

- JavaScript 的对象类型是可变的
  - JavaScript 程序可以更改对象属性和数组元素的值
- JavaScript 的基本类型是不可变的
  - 数字、布尔值、Symbol、null 和 undefined 都是不可更改的
  - 特别的，字符串可以看作是**字符数组**，但是在 JavaScript 中，字符串是不可变的，可以通过字符数组的任何元素索引访问到整个字符数组，但是 JavaScript 没有提供任何改变现有字符串文本的方法

### 类型转换

JavaScript 可以将值从一种类型转换为另一种类型。

例如，如果程序需要一个字符串，而传递给了它一个数字，它会自动将数字转换为字符串。

JavaScript 的类型转换会影响相等的定义。（== 相等操作符会执行 类型转换），在实践中， == 相等操作符已弃用，而使用严格的相等操作符 ===，它不进行类型转换。

### 常量、变量

常量和变量允许在在程序中使用名称来引用值。

常量使用 const 声明

变量使用 let 声明（在 老版的 JavaScript 代码种使用 var 声明）。

JavaScript 常量和变量都是无类型的：声明不指定要将那种类型的值赋给常量或变量。
